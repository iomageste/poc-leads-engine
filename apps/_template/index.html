<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="/vite.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>@apps/template</title>
  </head>
  <body>
    <div id="root"></div>
    <script type="module" src="/src/main.jsx"></script>
    <script>
      // mock-bridge.js
      // Simula a presen√ßa do ambiente corporativo para desenvolvimento local/IA

      console.log("üîß Mock Bridge Carregada");

      window.AppBridge = {
        // Simula usu√°rio logado. Mude para null para testar fluxo deslogado.
        user: {
          id: "user_123",
          name: "Tester da Silva",
          email: "teste@empresa.com"
        },

        // Simula a√ß√£o de login
        login: () => {
          alert("[BRIDGE] Redirecionando para SSO... (Simula√ß√£o)");
          // Num cen√°rio real, aqui teria um redirect. 
          // No mock, podemos recarregar a p√°gina fingindo que logou.
          console.log("Login solicitado");
        },

        // Simula disparo de tracking
        track: (eventName, payload) => {
          console.log(`[TRACKING] Evento: ${eventName}`, payload);
          // Visualmente √∫til para o PM ver que funcionou
          alert(`Evento disparado: ${eventName}`);
        },

        // Simula envio de respostas para API
        submit: async (data) => {
          console.log("[SUBMIT] Enviando payload para API...", data);

          return new Promise((resolve) => {
            setTimeout(() => {
              alert("Respostas enviadas com sucesso! (Simula√ß√£o API 200 OK)");
              resolve({ success: true, resultId: "result_A" });
            }, 1000);
          });
        }
      };
    </script>
  </body>
</html>
